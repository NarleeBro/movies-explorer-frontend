{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nexport default function usePopupClose(isOpen, closePopup) {\n  _s();\n\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleOverlay = event => {\n      if (event.target.classList.contains(\"popup_opened\")) {\n        closePopup();\n      }\n    };\n\n    const handleEscape = e => {\n      if (e.key === \"Escape\") {\n        closePopup();\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleEscape);\n    document.addEventListener(\"mousedown\", handleOverlay);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscape);\n      document.removeEventListener(\"mousedown\", handleOverlay);\n    };\n  }, [isOpen, closePopup]);\n}\n\n_s(usePopupClose, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"names":["useEffect","usePopupClose","isOpen","closePopup","handleOverlay","event","target","classList","contains","handleEscape","e","key","document","addEventListener","removeEventListener"],"sources":["C:/Users/linar/praktikumLenovo/diplom/movies-explorer-frontend/src/hooks/usePopupClose.jsx"],"sourcesContent":["import { useEffect } from \"react\";\n\nexport default function usePopupClose(isOpen, closePopup) {\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleOverlay = (event) => {\n      if (event.target.classList.contains(\"popup_opened\")) {\n        closePopup();\n      }\n    };\n\n    const handleEscape = (e) => {\n      if (e.key === \"Escape\") {\n        closePopup();\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleEscape);\n    document.addEventListener(\"mousedown\", handleOverlay);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscape);\n      document.removeEventListener(\"mousedown\", handleOverlay);\n    };\n  }, [isOpen, closePopup]);\n}\n\n"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,eAAe,SAASC,aAAT,CAAuBC,MAAvB,EAA+BC,UAA/B,EAA2C;EAAA;;EACxDH,SAAS,CAAC,MAAM;IACd,IAAI,CAACE,MAAL,EAAa;;IAEb,MAAME,aAAa,GAAIC,KAAD,IAAW;MAC/B,IAAIA,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,cAAhC,CAAJ,EAAqD;QACnDL,UAAU;MACX;IACF,CAJD;;IAMA,MAAMM,YAAY,GAAIC,CAAD,IAAO;MAC1B,IAAIA,CAAC,CAACC,GAAF,KAAU,QAAd,EAAwB;QACtBR,UAAU;MACX;IACF,CAJD;;IAMAS,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCJ,YAArC;IACAG,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCT,aAAvC;IAEA,OAAO,MAAM;MACXQ,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCL,YAAxC;MACAG,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CV,aAA1C;IACD,CAHD;EAID,CAtBQ,EAsBN,CAACF,MAAD,EAASC,UAAT,CAtBM,CAAT;AAuBD;;GAxBuBF,a"},"metadata":{},"sourceType":"module"}