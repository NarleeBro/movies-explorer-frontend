{"ast":null,"code":"import _slicedToArray from\"C:/Users/linar/praktikumLenovo/diplom/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState,useEffect}from\"react\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";export var VisibleRowsContext=/*#__PURE__*/createContext();export var VisibleRowsProvider=function VisibleRowsProvider(_ref){var children=_ref.children;var _useState=useState(2),_useState2=_slicedToArray(_useState,2),visibleRows=_useState2[0],setVisibleRows=_useState2[1];var _useState3=useState(2),_useState4=_slicedToArray(_useState3,2),visibleRowsSaved=_useState4[0],setVisibleRowsSaved=_useState4[1];var location=useLocation();var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),prevPathname=_useState6[0],setPrevPathname=_useState6[1];useEffect(function(){var pathname=location.pathname;if((prevPathname===\"/movies\"||prevPathname===\"\"||prevPathname===\"/saved-movies\")&&(pathname===\"/movies\"||pathname===\"/saved-movies\")){}else{resetRows();}setPrevPathname(pathname);},[location.pathname]);var addRows=function addRows(){var pathname=location.pathname;if(pathname===\"/movies\")setVisibleRows(visibleRows+1);else{setVisibleRowsSaved(visibleRowsSaved+1);}};var getRows=function getRows(){var pathname=location.pathname;if(pathname===\"/movies\")return visibleRows;else{return visibleRowsSaved;}};var resetRows=function resetRows(){setVisibleRows(2);setVisibleRowsSaved(2);};return/*#__PURE__*/_jsx(VisibleRowsContext.Provider,{value:{getRows:getRows,addRows:addRows,visibleRows:visibleRows,visibleRowsSaved:visibleRowsSaved},children:children});};","map":{"version":3,"names":["createContext","useState","useEffect","useLocation","VisibleRowsContext","VisibleRowsProvider","children","visibleRows","setVisibleRows","visibleRowsSaved","setVisibleRowsSaved","location","prevPathname","setPrevPathname","pathname","resetRows","addRows","getRows"],"sources":["C:/Users/linar/praktikumLenovo/diplom/movies-explorer-frontend/src/contexts/VisibleRowsContext.jsx"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport const VisibleRowsContext = createContext();\r\n\r\nexport const VisibleRowsProvider = ({ children }) => {\r\n  const [visibleRows, setVisibleRows] = useState(2);\r\n  const [visibleRowsSaved, setVisibleRowsSaved] = useState(2);\r\n  const location = useLocation();\r\n  const [prevPathname, setPrevPathname] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const pathname = location.pathname;\r\n    if (\r\n      (prevPathname === \"/movies\" ||\r\n        prevPathname === \"\" ||\r\n        prevPathname === \"/saved-movies\") &&\r\n      (pathname === \"/movies\" || pathname === \"/saved-movies\")\r\n    ) {\r\n    } else {\r\n      resetRows();\r\n    }\r\n    setPrevPathname(pathname);\r\n  }, [location.pathname]);\r\n\r\n  const addRows = () => {\r\n    const pathname = location.pathname;\r\n    if (pathname === \"/movies\") setVisibleRows(visibleRows + 1);\r\n    else {\r\n      setVisibleRowsSaved(visibleRowsSaved + 1);\r\n    }\r\n  };\r\n\r\n  const getRows = () => {\r\n    const pathname = location.pathname;\r\n    if (pathname === \"/movies\") return visibleRows;\r\n    else {\r\n      return visibleRowsSaved;\r\n    }\r\n  };\r\n\r\n  const resetRows = () => {\r\n    setVisibleRows(2);\r\n    setVisibleRowsSaved(2);\r\n  };\r\n\r\n  return (\r\n    <VisibleRowsContext.Provider\r\n      value={{ getRows, addRows, visibleRows, visibleRowsSaved }}\r\n    >\r\n      {children}\r\n    </VisibleRowsContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"oJAAA,OAASA,aAAT,CAAwBC,QAAxB,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,2CAEA,MAAO,IAAMC,mBAAkB,cAAGJ,aAAa,EAAxC,CAEP,MAAO,IAAMK,oBAAmB,CAAG,QAAtBA,oBAAsB,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CACnD,cAAsCL,QAAQ,CAAC,CAAD,CAA9C,wCAAOM,WAAP,eAAoBC,cAApB,eACA,eAAgDP,QAAQ,CAAC,CAAD,CAAxD,yCAAOQ,gBAAP,eAAyBC,mBAAzB,eACA,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CACA,eAAwCF,QAAQ,CAAC,EAAD,CAAhD,yCAAOW,YAAP,eAAqBC,eAArB,eAEAX,SAAS,CAAC,UAAM,CACd,GAAMY,SAAQ,CAAGH,QAAQ,CAACG,QAA1B,CACA,GACE,CAACF,YAAY,GAAK,SAAjB,EACCA,YAAY,GAAK,EADlB,EAECA,YAAY,GAAK,eAFnB,IAGCE,QAAQ,GAAK,SAAb,EAA0BA,QAAQ,GAAK,eAHxC,CADF,CAKE,CACD,CAND,IAMO,CACLC,SAAS,GACV,CACDF,eAAe,CAACC,QAAD,CAAf,CACD,CAZQ,CAYN,CAACH,QAAQ,CAACG,QAAV,CAZM,CAAT,CAcA,GAAME,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,GAAMF,SAAQ,CAAGH,QAAQ,CAACG,QAA1B,CACA,GAAIA,QAAQ,GAAK,SAAjB,CAA4BN,cAAc,CAACD,WAAW,CAAG,CAAf,CAAd,CAA5B,IACK,CACHG,mBAAmB,CAACD,gBAAgB,CAAG,CAApB,CAAnB,CACD,CACF,CAND,CAQA,GAAMQ,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,GAAMH,SAAQ,CAAGH,QAAQ,CAACG,QAA1B,CACA,GAAIA,QAAQ,GAAK,SAAjB,CAA4B,MAAOP,YAAP,CAA5B,IACK,CACH,MAAOE,iBAAP,CACD,CACF,CAND,CAQA,GAAMM,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtBP,cAAc,CAAC,CAAD,CAAd,CACAE,mBAAmB,CAAC,CAAD,CAAnB,CACD,CAHD,CAKA,mBACE,KAAC,kBAAD,CAAoB,QAApB,EACE,KAAK,CAAE,CAAEO,OAAO,CAAPA,OAAF,CAAWD,OAAO,CAAPA,OAAX,CAAoBT,WAAW,CAAXA,WAApB,CAAiCE,gBAAgB,CAAhBA,gBAAjC,CADT,UAGGH,QAHH,EADF,CAOD,CAhDM"},"metadata":{},"sourceType":"module"}