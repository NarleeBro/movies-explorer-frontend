{"ast":null,"code":"import{useEffect}from\"react\";export default function usePopupClose(isOpen,closePopup){useEffect(function(){if(!isOpen)return;var handleOverlay=function handleOverlay(event){if(event.target.classList.contains(\"popup_opened\")){closePopup();}};var handleEscape=function handleEscape(e){if(e.key===\"Escape\"){closePopup();}};document.addEventListener(\"keydown\",handleEscape);document.addEventListener(\"mousedown\",handleOverlay);return function(){document.removeEventListener(\"keydown\",handleEscape);document.removeEventListener(\"mousedown\",handleOverlay);};},[isOpen,closePopup]);}","map":{"version":3,"names":["useEffect","usePopupClose","isOpen","closePopup","handleOverlay","event","target","classList","contains","handleEscape","e","key","document","addEventListener","removeEventListener"],"sources":["C:/Users/linar/praktikumLenovo/diplom/movies-explorer-frontend/src/hooks/usePopupClose.jsx"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\nexport default function usePopupClose(isOpen, closePopup) {\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n\r\n    const handleOverlay = (event) => {\r\n      if (event.target.classList.contains(\"popup_opened\")) {\r\n        closePopup();\r\n      }\r\n    };\r\n\r\n    const handleEscape = (e) => {\r\n      if (e.key === \"Escape\") {\r\n        closePopup();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleEscape);\r\n    document.addEventListener(\"mousedown\", handleOverlay);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscape);\r\n      document.removeEventListener(\"mousedown\", handleOverlay);\r\n    };\r\n  }, [isOpen, closePopup]);\r\n}\r\n\r\n"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CAEA,cAAe,SAASC,cAAT,CAAuBC,MAAvB,CAA+BC,UAA/B,CAA2C,CACxDH,SAAS,CAAC,UAAM,CACd,GAAI,CAACE,MAAL,CAAa,OAEb,GAAME,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAW,CAC/B,GAAIA,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,cAAhC,CAAJ,CAAqD,CACnDL,UAAU,GACX,CACF,CAJD,CAMA,GAAMM,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1B,GAAIA,CAAC,CAACC,GAAF,GAAU,QAAd,CAAwB,CACtBR,UAAU,GACX,CACF,CAJD,CAMAS,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqCJ,YAArC,EACAG,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuCT,aAAvC,EAEA,MAAO,WAAM,CACXQ,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,CAAwCL,YAAxC,EACAG,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,CAA0CV,aAA1C,EACD,CAHD,CAID,CAtBQ,CAsBN,CAACF,MAAD,CAASC,UAAT,CAtBM,CAAT,CAuBD"},"metadata":{},"sourceType":"module"}