{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\linar\\\\praktikumLenovo\\\\diplom\\\\movies-explorer-frontend\\\\src\\\\components\\\\Movies\\\\MoviesCard\\\\MoviesCard.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { useLocation, Link } from \"react-router-dom\";\nimport \"./MoviesCard.css\";\nimport { MovieContext } from \"../../../contexts/MovieContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MoviesCard(_ref) {\n  _s();\n\n  let {\n    title,\n    duration,\n    backdrop,\n    isSaved\n  } = _ref;\n  const [favourites, setFavourites] = useState(isSaved);\n  const {\n    addMovie,\n    deleteMovie\n  } = useContext(MovieContext);\n  const location = useLocation();\n  const [isFavoritesRoute, setIsFavoritesRoute] = useState(location.pathname === \"/saved-movies\");\n\n  function handleClick(event) {\n    event.preventDefault();\n\n    if (favourites) {\n      deleteMovie(title);\n    } else {\n      addMovie({\n        title,\n        duration,\n        backdrop\n      });\n    }\n\n    setFavourites(!favourites);\n  }\n\n  function handleDeleteMovie() {\n    deleteMovie(title);\n  }\n\n  useEffect(() => {\n    setIsFavoritesRoute(location.pathname === \"/saved-movies\");\n  }, [location.pathname]);\n\n  function formatDuration(duration) {\n    const hours = Math.floor(duration / 60);\n    const minutes = duration % 60;\n    const hoursString = hours > 0 ? `${hours}ч` : \"\";\n    const minutesString = minutes > 0 ? `${minutes}м` : \"\";\n    return `${hoursString} ${minutesString}`.trim();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"movies-card\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      className: \"movies-card__link\",\n      to: \"https://www.youtube.com/watch?v=6UgY1aEhY2c\",\n      target: \"_blank\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"movies-card__backdrop\",\n      src: backdrop,\n      alt: `Кадр из фильма: ${title}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movies-card__container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movies-card__wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"movies-card__title\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), !isFavoritesRoute && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `movies-card__favorites-btn link ${favourites ? \"active\" : \"\"}`,\n          type: \"button\",\n          onClick: handleClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this), isFavoritesRoute && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `movies-card__favorites-btn link remove-btn`,\n          type: \"button\",\n          onClick: handleDeleteMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"movies-card__duration\",\n      children: formatDuration(duration)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MoviesCard, \"sa/4Th9/W8tcs/IWoi0IPfvL3M4=\", false, function () {\n  return [useLocation];\n});\n\n_c = MoviesCard;\nexport default MoviesCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MoviesCard\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useLocation","Link","MovieContext","MoviesCard","title","duration","backdrop","isSaved","favourites","setFavourites","addMovie","deleteMovie","location","isFavoritesRoute","setIsFavoritesRoute","pathname","handleClick","event","preventDefault","handleDeleteMovie","formatDuration","hours","Math","floor","minutes","hoursString","minutesString","trim"],"sources":["C:/Users/linar/praktikumLenovo/diplom/movies-explorer-frontend/src/components/Movies/MoviesCard/MoviesCard.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { useLocation, Link } from \"react-router-dom\";\n\nimport \"./MoviesCard.css\";\nimport { MovieContext } from \"../../../contexts/MovieContext\";\n\nfunction MoviesCard({ title, duration, backdrop, isSaved }) {\n  const [favourites, setFavourites] = useState(isSaved);\n  const { addMovie, deleteMovie } = useContext(MovieContext);\n  const location = useLocation();\n  const [isFavoritesRoute, setIsFavoritesRoute] = useState(\n    location.pathname === \"/saved-movies\"\n  );\n\n  function handleClick(event) {\n    event.preventDefault();\n    if (favourites) {\n      deleteMovie(title);\n    } else {\n      addMovie({ title, duration, backdrop });\n    }\n    setFavourites(!favourites);\n  }\n\n  function handleDeleteMovie() {\n    deleteMovie(title);\n  }\n\n  useEffect(() => {\n    setIsFavoritesRoute(location.pathname === \"/saved-movies\");\n  }, [location.pathname]);\n\n  function formatDuration(duration) {\n    const hours = Math.floor(duration / 60);\n    const minutes = duration % 60;\n\n    const hoursString = hours > 0 ? `${hours}ч` : \"\";\n    const minutesString = minutes > 0 ? `${minutes}м` : \"\";\n\n    return `${hoursString} ${minutesString}`.trim();\n  }\n\n  return (\n    <li className=\"movies-card\">\n      <Link\n        className=\"movies-card__link\"\n        to={\"https://www.youtube.com/watch?v=6UgY1aEhY2c\"}\n        target=\"_blank\"\n      ></Link>\n        <img\n          className=\"movies-card__backdrop\"\n          src={backdrop}\n          alt={`Кадр из фильма: ${title}`}\n        />\n        <div className=\"movies-card__container\">\n          <div className=\"movies-card__wrapper\">\n            <h2 className=\"movies-card__title\">{title}</h2>\n\n            {!isFavoritesRoute && (\n              <button\n                className={`movies-card__favorites-btn link ${favourites ? \"active\" : \"\"\n                  }`}\n                type=\"button\"\n                onClick={handleClick}\n              ></button>\n            )}\n            {isFavoritesRoute && (\n              <button\n                className={`movies-card__favorites-btn link remove-btn`}\n                type=\"button\"\n                onClick={handleDeleteMovie}\n              ></button>\n            )}\n          </div>\n        </div>\n        <span className=\"movies-card__duration\">\n          {formatDuration(duration)}\n        </span>\n\n    </li>\n  );\n}\n\nexport default MoviesCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}